{% extends 'base.html' %}

{% block header %}
  <div class="row">
    <div class="col-md-8">
        <h1 class="fs2-text my-3">{% block title %}Items{% endblock %}</h1>
    </div>
    <div class="col-md-4 text-md-end">
        <div class="my-3 d-grid gap-2 d-md-flex justify-content-md-end">
            <a class="btn btn-secondary me-md-2" href="{{ url_for('main.search') }}">Search</a>
            <a class="btn btn-primary" href="{{ url_for('item.add_item') }}">Create</a>
        </div>
    </div>
  </div>
{% endblock %}

{% block content %}
<div class="row">
  {% for item in items %}
  <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
    <div class="card mb-4">
      <a class="card-body text-decoration-none" href="{{ url_for('item.view_item', item_id=item.id) }}">
        <h3 class="card-title">{{ item.brand }} {{ item.model }}</h3>
        <h6 class="card-subtitle mb-2 text-body-secondary">Variant: {{ item.variant }}</h6>
        <h6 class="card-subtitle mb-2 text-body-secondary">Scale: {{ item.scale }}</h6>
        <h6 class="card-subtitle mb-2 text-body-secondary">Grade: {{ item.grade }}</h6>
        <h6 class="card-subtitle mb-2 text-body-secondary">Date: {{ item.purchase_year }} {{ item.purchase_month }}</h6>
        {% if g.user.is_admin %}
          <a class="btn btn-outline-primary m-3 mt-0" id="edit-button" href="{{ url_for('item.update_item', item_id=item.id) }}">Edit</span></a>
        {% endif %}
      </a>
    </div>
  </div>
  {% endfor %}
</div>

  {{ pagination.links }}
{% endblock %}